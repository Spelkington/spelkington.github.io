---
title: College Admissions and the Stability of Marriage
date: 2024-03-14
updated: 2024-03-14
tags:
  - "#economics/consulting"
  - economics/market-design
draft: false
annotation-target: https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf
---


>%%
>```annotation-json
>{"text":"This is a little test of something I'd like to do - keeping annotations of papers I've read on the CGC website, provided that they are open-access (which, unfortunately, is not always the case.)\n\nThis is being done with the [Obsidian Annotator](https://github.com/elias-sundqvist/obsidian-annotator) plugin. I have *absolutely no idea* how quartz is going to handle this, so... we'll see! There's a very real chance that this is going to end up being a substantially heavier lift on the frontend and design side than my feeble backend brain can handle. So, if you're seeing this, feel free to pat me on the back for figuring it out (☞ﾟヮﾟ)☞","target":[{"source":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf","selector":[{"type":"TextPositionSelector","start":0,"end":48},{"type":"TextQuoteSelector","exact":"College Admissions and the Stability of Marriage","prefix":"th50%75%100%125%150%200%300%400%","suffix":"Author(s): D. Gale and L. S. Sha"}]}],"created":"2024-03-14T22:23:53.656Z","updated":"2024-03-14T22:23:53.656Z","document":{"title":"College Admissions and the Stability of Marriage","link":[{"href":"urn:x-pdf:dd0c1fc592ad4dea981aaf84679261c3"},{"href":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf"}],"documentFingerprint":"dd0c1fc592ad4dea981aaf84679261c3"},"uri":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf"}
>```
>%%
>*%%PREFIX%%th50%75%100%125%150%200%300%400%%%HIGHLIGHT%% ==College Admissions and the Stability of Marriage== %%POSTFIX%%Author(s): D. Gale and L. S. Sha*
>%%LINK%%[[#^vmh5jlenjap|show annotation]]
>%%COMMENT%%
>This is a little test of something I'd like to do - keeping annotations of papers I've read on the CGC website, provided that they are open-access (which, unfortunately, is not always the case.)
>
>This is being done with the [Obsidian Annotator](https://github.com/elias-sundqvist/obsidian-annotator) plugin. I have *absolutely no idea* how quartz is going to handle this, so... we'll see! There's a very real chance that this is going to end up being a substantially heavier lift on the frontend and design side than my feeble backend brain can handle. So, if you're seeing this, feel free to pat me on the back for figuring it out (☞ﾟヮﾟ)☞
>%%TAGS%%
>
^vmh5jlenjap


>%%
>```annotation-json
>{"text":"Without further ado! College Admissions and the Stability of Marriage was the second paper(ish) that I read related to market design and non-market environments that got me interested in the subject. The first, Dr. Kenneth Arrow's [Social Choice and Individual Values](https://cowles.yale.edu/sites/default/files/2022-09/m12-2-all.pdf), was related more to voting systems - something that comes up every four years in America and then somewhat drifts into a hibernation until the next worthy national debate over the merits of first-past-the-post.\n\nThis one caught my attention, though, as it was the first technical analysis I'd seen of a topic that had some *weight* to it in my own life, and in the lives of others - partnership, romance, all the fun ones. If Arrow turned the handle on the door into this specific interest, it was Gale and Shapley that kicked it wide-open.\n\nIt was especially fun to present a summary of this paper in [[stability-of-marriage#^635c68|Dr. Allison Stashko]]'s Non-Market Environments course. I was proud to cap off the end of the term talking to my fellow early-20s undergraduates about something we could all understand at the deepest of levels: Being Horny™","target":[{"source":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf","selector":[{"type":"TextPositionSelector","start":960,"end":1015},{"type":"TextQuoteSelector","exact":"COLLEGE  ADMISSIONS  AND  THE  STABILITY  OF  MARRIAGE ","prefix":"cal Monthly.http://www.jstor.org","suffix":"D. GALE* AND L. S. SHAPLEY, Brow"}]}],"created":"2024-03-14T22:24:15.633Z","updated":"2024-03-14T22:24:15.633Z","document":{"title":"College Admissions and the Stability of Marriage","link":[{"href":"urn:x-pdf:dd0c1fc592ad4dea981aaf84679261c3"},{"href":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf"}],"documentFingerprint":"dd0c1fc592ad4dea981aaf84679261c3"},"uri":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf"}
>```
>%%
>*%%PREFIX%%cal Monthly.http://www.jstor.org%%HIGHLIGHT%% ==COLLEGE  ADMISSIONS  AND  THE  STABILITY  OF  MARRIAGE== %%POSTFIX%%D. GALE* AND L. S. SHAPLEY, Brow*
>%%LINK%%[[#^18iax7g01jo|show annotation]]
>%%COMMENT%%
>Without further ado! College Admissions and the Stability of Marriage was the second paper(ish) that I read related to market design and non-market environments that got me interested in the subject. The first, Dr. Kenneth Arrow's [Social Choice and Individual Values](https://cowles.yale.edu/sites/default/files/2022-09/m12-2-all.pdf), was related more to voting systems - something that comes up every four years in America and then somewhat drifts into a hibernation until the next worthy national debate over the merits of first-past-the-post.
>
>This one caught my attention, though, as it was the first technical analysis I'd seen of a topic that had some *weight* to it in my own life, and in the lives of others - partnership, romance, all the fun ones. If Arrow turned the handle on the door into this specific interest, it was Gale and Shapley that kicked it wide-open.
>
>It was especially fun to present a summary of this paper in [[stability-of-marriage#^635c68|Dr. Allison Stashko]]'s Non-Market Environments course. I was proud to cap off the end of the term talking to my fellow early-20s undergraduates about something we could all understand at the deepest of levels: Being Horny™
>%%TAGS%%
>
^18iax7g01jo


>%%
>```annotation-json
>{"text":"It's interesting that [exploding offers](https://arc.net/l/quote/nsmrbhdi) aren't mentioned here - reading this for the first time in 3-4 years, I thought that it was mentioned at the top.\n\nIf it isn't mentioned at all in this paper, then it was without a doubt Alvin Roth's [Who Gets What — And Why?](https://www.amazon.com/Who-Gets-What-Why-Matchmaking/dp/0544291131) that introduced the concept to me.","target":[{"source":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf","selector":[{"type":"TextPositionSelector","start":3020,"end":3146},{"type":"TextQuoteSelector","exact":" Is it ethical to accept the first without informing the second and then withdraw his acceptance if the second later admits hi","prefix":"the second will admit him later?","suffix":"m? We contend that the difficult"}]}],"created":"2024-03-14T22:30:26.683Z","updated":"2024-03-14T22:30:26.683Z","document":{"title":"College Admissions and the Stability of Marriage","link":[{"href":"urn:x-pdf:dd0c1fc592ad4dea981aaf84679261c3"},{"href":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf"}],"documentFingerprint":"dd0c1fc592ad4dea981aaf84679261c3"},"uri":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf"}
>```
>%%
>*%%PREFIX%%the second will admit him later?%%HIGHLIGHT%% ==Is it ethical to accept the first without informing the second and then withdraw his acceptance if the second later admits hi== %%POSTFIX%%m? We contend that the difficult*
>%%LINK%%[[#^9164n7rsi64|show annotation]]
>%%COMMENT%%
>It's interesting that [exploding offers](https://arc.net/l/quote/nsmrbhdi) aren't mentioned here - reading this for the first time in 3-4 years, I thought that it was mentioned at the top.
>
>If it isn't mentioned at all in this paper, then it was without a doubt Alvin Roth's [Who Gets What — And Why?](https://www.amazon.com/Who-Gets-What-Why-Matchmaking/dp/0544291131) that introduced the concept to me.
>%%TAGS%%
>
^9164n7rsi64


>%%
>```annotation-json
>{"created":"2024-03-14T22:47:20.871Z","text":"In the actual presentation, it was deeply difficult to re-word this in a way that didn't sound like I was having another aneurysm. It reads *somewhat* well on paper, but sounds completely unhinged out loud.","updated":"2024-03-14T22:47:20.871Z","document":{"title":"College Admissions and the Stability of Marriage","link":[{"href":"urn:x-pdf:dd0c1fc592ad4dea981aaf84679261c3"},{"href":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf"}],"documentFingerprint":"dd0c1fc592ad4dea981aaf84679261c3"},"uri":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf","target":[{"source":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf","selector":[{"type":"TextPositionSelector","start":5574,"end":5783},{"type":"TextQuoteSelector","exact":"DEFINITION.  An assignment of applicants to colleges will be called unstable if there are two applicants a and ,B who are assigned to colleges A and B, respectively, although ,3 prefers A to B and A prefers : ","prefix":"ng definition should not occur: ","suffix":"to a. Suppose the situation desc"}]}]}
>```
>%%
>*%%PREFIX%%ng definition should not occur:%%HIGHLIGHT%% ==DEFINITION.  An assignment of applicants to colleges will be called unstable if there are two applicants a and ,B who are assigned to colleges A and B, respectively, although ,3 prefers A to B and A prefers :== %%POSTFIX%%to a. Suppose the situation desc*
>%%LINK%%[[#^nungju8fnno|show annotation]]
>%%COMMENT%%
>In the actual presentation, it was deeply difficult to re-word this in a way that didn't sound like I was having another aneurysm. It reads *somewhat* well on paper, but sounds completely unhinged out loud.
>%%TAGS%%
>
^nungju8fnno


>%%
>```annotation-json
>{"created":"2024-03-14T22:48:44.481Z","text":"Another difficulty was trying to reframe this specific style of diagram in such a way that a room full of people who'd been staring at game theory model grids for four years didn't reflexively start eyeballing Nash equillibria","updated":"2024-03-14T22:48:44.481Z","document":{"title":"College Admissions and the Stability of Marriage","link":[{"href":"urn:x-pdf:dd0c1fc592ad4dea981aaf84679261c3"},{"href":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf"}],"documentFingerprint":"dd0c1fc592ad4dea981aaf84679261c3"},"uri":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf","target":[{"source":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf","selector":[{"type":"TextPositionSelector","start":8594,"end":8700},{"type":"TextQuoteSelector","exact":"Example 1. The following is the \"ranking matrix\" of three men, a, ,3, and 7, and three women, A, B, and C.","prefix":"r let us look at some examples. ","suffix":" A  B  C a  1,3  2,2  3,1 p  3,1"}]}]}
>```
>%%
>*%%PREFIX%%r let us look at some examples.%%HIGHLIGHT%% ==Example 1. The following is the "ranking matrix" of three men, a, ,3, and 7, and three women, A, B, and C.== %%POSTFIX%%A  B  C a  1,3  2,2  3,1 p  3,1*
>%%LINK%%[[#^7gx9isj070o|show annotation]]
>%%COMMENT%%
>Another difficulty was trying to reframe this specific style of diagram in such a way that a room full of people who'd been staring at game theory model grids for four years didn't reflexively start eyeballing Nash equillibria
>%%TAGS%%
>
^7gx9isj070o


>%%
>```annotation-json
>{"created":"2024-03-14T22:51:55.217Z","text":"The idea of match optimality was the concept that launched me out of this paper and into a rabbit hole of reading more about matchmaking algorithms, and actually modeling this in Python to toy around with the concept.\n\nIf, as they assert, this will give the *assignees* their optimal outcome compared to *other* stable match configurations, that implies the existence of other stable match configurations.\n\nTake a look at the assignment grid above — it's a 2D grid representing *one* possible stable configuration. In that case, you could imagine that all possible configurations — stable or unstable — stacked on top of each other to form a 3D grid, or *lattice*, of match configurations. All of the possible 2D grids stacked like a big crystalline structure.\n\nFrom that lattice, you can slide out all of the unstable configurations (because, obviously, they suck and don't mean anything), leaving us with a **stable match lattice**.\n\nThe even more interesting thing is - now that you have that stable match lattice, what *exactly* is in it? That's where this particular part gets super zesty - \"Every applicant is **at least as well off [...] as he would be under any other stable assignment**\"\n\nGale-Shapley's stable match algorithm takes in two sets of people — in the case of this paper, men and women — which you can think of as the \"assigner\" and the \"assignee\", the former of which makes the proposals and the latter who accepts or declines them. Think of it as a formula:\n\n```\nmatches = gale_shapley(assigners, assignees)\n```\n\n**Gale-Shapley is a noncommutative operation that optimizes the outcome for the *assigners* set**.\n\nImagine you have a set of four men and four women, and you want to measure how \"good\" a matchmaking configuration is. You could imagine that the best-case scenario is that everybody ends up with their #1 choice, and the worst-case scenario is that everybody ends up with their #4 choice. We can use that as a baseline for measuring the \"goodness\" of the matchmaking.\n\nLet's say, in some given matchmaking pair, everybody gets their first choice — the best case. If you were to add up everybody's result (1st place) and average it by the number of people (8 people) you'd get a value of `1`. On the flip side, for the worst-case, you'd get a value of `4` - ultimately being able to answer the question \"*On average*, how well were people placed?\"\n\nUltimately, if you take an analysis of the average placement of the assigner group (in this case, men), you'll see that **the assigner group's average in Gale-Shapley is the highest of all possible stable configurations**.\n\nUltimately, if you were to rank-order all possible stable matching sets on the matchmaking lattice on a spectrum of \"Benefits Group A\" to \"Benefits Group B\", the outputs of `gale_shapley(A, B)` and `gale_shapley(B, A)` calculate the ends of the lattice.\n\nThis also implies a bit of a potential ethical issue. Depending on the context, there is an active decision made for \"who gets better outcomes\" by simply putting them into the algorithm first. Even within this paper, the marriage example itself generates the stable marriage output that provides men with the optimal output.\n\nUltimately, matchmaking is still something that interests me deeply, and I'm hoping that CGC (either the consulting side or development side) puts me in a position to keep working with these very interesting, *very* cool situations.","updated":"2024-03-14T22:51:55.217Z","document":{"title":"College Admissions and the Stability of Marriage","link":[{"href":"urn:x-pdf:dd0c1fc592ad4dea981aaf84679261c3"},{"href":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf"}],"documentFingerprint":"dd0c1fc592ad4dea981aaf84679261c3"},"uri":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf","target":[{"source":"https://www.math.utoronto.ca/mccann/assignments/477/GaleShapley62.pdf","selector":[{"type":"TextPositionSelector","start":15201,"end":15368},{"type":"TextQuoteSelector","exact":"THEOREM  2. Every applicant is at least as well off under the assignment given by the deferred acceptance procedure as he would be under any other stable assign- ment.","prefix":"ignment of applicants. That is, ","suffix":" Proof. Let us call a college \"p"}]}]}
>```
>%%
>*%%PREFIX%%ignment of applicants. That is,%%HIGHLIGHT%% ==THEOREM  2. Every applicant is at least as well off under the assignment given by the deferred acceptance procedure as he would be under any other stable assign- ment.== %%POSTFIX%%Proof. Let us call a college "p*
>%%LINK%%[[#^qrpzbdvom6|show annotation]]
>%%COMMENT%%
>The idea of match optimality was the concept that launched me out of this paper and into a rabbit hole of reading more about matchmaking algorithms, and actually modeling this in Python to toy around with the concept.
>
>If, as they assert, this will give the *assignees* their optimal outcome compared to *other* stable match configurations, that implies the existence of other stable match configurations.
>
>Take a look at the assignment grid above — it's a 2D grid representing *one* possible stable configuration. In that case, you could imagine that all possible configurations — stable or unstable — stacked on top of each other to form a 3D grid, or *lattice*, of match configurations. All of the possible 2D grids stacked like a big crystalline structure.
>
>From that lattice, you can slide out all of the unstable configurations (because, obviously, they suck and don't mean anything), leaving us with a **stable match lattice**.
>
>The even more interesting thing is - now that you have that stable match lattice, what *exactly* is in it? That's where this particular part gets super zesty - "Every applicant is **at least as well off [...] as he would be under any other stable assignment**"
>
>Gale-Shapley's stable match algorithm takes in two sets of people — in the case of this paper, men and women — which you can think of as the "assigner" and the "assignee", the former of which makes the proposals and the latter who accepts or declines them. Think of it as a formula:
>
>```
>matches = gale_shapley(assigners, assignees)
>```
>
>**Gale-Shapley is a noncommutative operation that optimizes the outcome for the *assigners* set**.
>
>Imagine you have a set of four men and four women, and you want to measure how "good" a matchmaking configuration is. You could imagine that the best-case scenario is that everybody ends up with their #1 choice, and the worst-case scenario is that everybody ends up with their #4 choice. We can use that as a baseline for measuring the "goodness" of the matchmaking.
>
>Let's say, in some given matchmaking pair, everybody gets their first choice — the best case. If you were to add up everybody's result (1st place) and average it by the number of people (8 people) you'd get a value of `1`. On the flip side, for the worst-case, you'd get a value of `4` - ultimately being able to answer the question "*On average*, how well were people placed?"
>
>Ultimately, if you take an analysis of the average placement of the assigner group (in this case, men), you'll see that **the assigner group's average in Gale-Shapley is the highest of all possible stable configurations**.
>
>Ultimately, if you were to rank-order all possible stable matching sets on the matchmaking lattice on a spectrum of "Benefit to Group A" to "Benefits to Group B", the outputs of `gale_shapley(A, B)` and `gale_shapley(B, A)` calculate the ends of the lattice.
>
>This also implies a bit of a potential ethical issue. Depending on the context, there is an active decision made for "who gets better outcomes" by simply putting them into the algorithm first. Even within this paper, the marriage example itself generates the stable marriage output that provides men with the optimal output.
>
>Ultimately, matchmaking is still something that interests me deeply, and I'm hoping that CGC (either the consulting side or development side) puts me in a position to keep working with these very interesting, *very* cool situations.
>%%TAGS%%
>
^qrpzbdvom6
